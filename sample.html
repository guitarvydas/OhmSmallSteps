<html>
  <head>
    <title>sample mixed PROLOG and JS - ohm/js in small steps</title>
    <meta charset=utf-8>
    <script src="/Users/tarvydas/projects/ohm/examples/lib.js"></script>
    <script src="/Users/tarvydas/projects/ohm/dist/ohm.js"></script>
    <script type="text/test-form">
      (#t #f)
    </script>

    <script type="text/js-and-prolog">

      function displayDate () {
	  document.getElementById('timestamp').innerHTML = Date();
      }

      function displayResults(str,el) {
	  document.getElementById(el).innerHTML = str;
      }
      
      function run() {
	  let jsAandPrologString = document.querySelector('script[type="text/js-and-prolog"]');
	  let transpiledToJS = transpileMixedPrologAndJS(jsAndPrologString);
	  let newPage = createPageForRunningJS(transpiledToJS);
	  displayResults(newPage,'result');
	  displayDate();
    </script>

  </head>
  <body>
    <button onclick="run()">run</button>
    <p id="timestamp"></p>
    <p id="result"></p>
  </body>
</html>
