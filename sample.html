<html>
  <head>
    <title>sample mixed PROLOG and JS - ohm/js in small steps</title>
    <meta charset=utf-8>

    <script type="text/js-and-prolog">
      this is a test
    </script>
    
    <script>
      
      function displayDate () {
	  document.getElementById('timestamp').innerHTML = Date();
      }
      
      function displayResults(str) {
	  document.getElementById('result').innerHTML = str;
      }
      
      function transpileMixedPrologAndJS(s) {
	  // stubbed out
	  return s;
      }
      
      function createPageForRunningJS(s) {
	  // stubbed out
	  return s;
      }
      
      function runSample() {
	  let jsAndPrologString = document.querySelector('script[type="text/js-and-prolog"]').innerHTML;
	  let transpiledToJS = transpileMixedPrologAndJS(jsAndPrologString);
	  let newPage = createPageForRunningJS(transpiledToJS);
	  displayResults(newPage);
	  displayDate();
      }
    </script>

  </head>
  <body>
    <button onclick="runSample()">run sample</button>
    <p id="timestamp"></p>
    <p id="result"></p>
  </body>
</html>
